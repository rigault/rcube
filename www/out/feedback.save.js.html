<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: feedback.save.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: feedback.save.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Displays a feedback form using SweetAlert2 and sends the data to the given API URL.
 * 
 * @param {string} apiUrl - The API endpoint where the feedback will be sent.
 */
function feedback (apiUrl) {
   Swal.fire ({
      title: "Submit Feedback",
      html: `
         &lt;table class="swal2-custom-table">
            &lt;tr>
               &lt;td class="swal2-label">Email:&lt;/td>
               &lt;td>&lt;input type="email" id="swal-email" class="swal2-input" placeholder="Your email" required>&lt;/td>
            &lt;/tr>
            &lt;tr>
               &lt;td class="swal2-label">Message:&lt;/td>
               &lt;td>&lt;textarea id="swal-message" class="swal2-textarea" placeholder="Your message" required>&lt;/textarea>&lt;/td>
            &lt;/tr>
         &lt;/table>
      `,
      showCancelButton: true,
      confirmButtonText: "Send",
      preConfirm: () => {
         const email = document.getElementById ("swal-email").value.trim();
         const message = document.getElementById ("swal-message").value.trim();

         // Simple email validation
         if (!/^\S+@\S+\.\S+$/.test(email)) {
            Swal.showValidationMessage ("Please enter a valid email address!");
            return false;
         }
         if (!message) {
            Swal.showValidationMessage ("Message cannot be empty!");
            return false;
         }
         const data = {email, message};
         // Send data to the API
         return fetch(apiUrl, {
            method: "POST",
            headers: {"Content-Type": "application/x-www-form-urlencoded"},
            body: "type=10&amp;feedback=" + JSON.stringify (data),
         })
         .then(response => {
            if (!response.ok) throw new Error("Network error");
            return response.json();
         })
         .catch(error => {
            Swal.showValidationMessage ("Failed to send feedback: " + error.message);
            return false;
         });
      }
   }).then((result) => {
      if (result.isConfirmed) {
         Swal.fire ("Thank You!", "Your feedback has been sent.", "success");
      }
   });
}

</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#addCompetitor">addCompetitor</a></li><li><a href="global.html#addMarker">addMarker</a></li><li><a href="global.html#addPOI">addPOI</a></li><li><a href="global.html#addWaypoint">addWaypoint</a></li><li><a href="global.html#backWard">backWard</a></li><li><a href="global.html#bestVmg">bestVmg</a></li><li><a href="global.html#bestVmgBack">bestVmgBack</a></li><li><a href="global.html#buildBodyRequest">buildBodyRequest</a></li><li><a href="global.html#changeParam">changeParam</a></li><li><a href="global.html#chooseGrib">chooseGrib</a></li><li><a href="global.html#choosePolar">choosePolar</a></li><li><a href="global.html#clearRoutes">clearRoutes</a></li><li><a href="global.html#closeContextMenu">closeContextMenu</a></li><li><a href="global.html#condenseTimeStamps">condenseTimeStamps</a></li><li><a href="global.html#deleteAllPOIs">deleteAllPOIs</a></li><li><a href="global.html#deletePOI">deletePOI</a></li><li><a href="global.html#displayBestTimeHistogram">displayBestTimeHistogram</a></li><li><a href="global.html#displayComp">displayComp</a></li><li><a href="global.html#displayWayPoints">displayWayPoints</a></li><li><a href="global.html#dmsToDecimal">dmsToDecimal</a></li><li><a href="global.html#drawGribLimits">drawGribLimits</a></li><li><a href="global.html#drawOrtho">drawOrtho</a></li><li><a href="global.html#drawPolyline">drawPolyline</a></li><li><a href="global.html#dumpRoute">dumpRoute</a></li><li><a href="global.html#feedback">feedback</a></li><li><a href="global.html#findBounds">findBounds</a></li><li><a href="global.html#findMaxSpeed">findMaxSpeed</a></li><li><a href="global.html#forWard">forWard</a></li><li><a href="global.html#formatDuration">formatDuration</a></li><li><a href="global.html#formatDurationShort">formatDurationShort</a></li><li><a href="global.html#formatLocalDate">formatLocalDate</a></li><li><a href="global.html#generatePolarPlotly">generatePolarPlotly</a></li><li><a href="global.html#getGreatCirclePath">getGreatCirclePath</a></li><li><a href="global.html#getParam">getParam</a></li><li><a href="global.html#getServerInit">getServerInit</a></li><li><a href="global.html#goBegin">goBegin</a></li><li><a href="global.html#gribInfo">gribInfo</a></li><li><a href="global.html#helpInfo">helpInfo</a></li><li><a href="global.html#interpolate">interpolate</a></li><li><a href="global.html#interpolateSpeeds">interpolateSpeeds</a></li><li><a href="global.html#latLonToStr">latLonToStr</a></li><li><a href="global.html#loadAppState">loadAppState</a></li><li><a href="global.html#loxoCap">loxoCap</a></li><li><a href="global.html#loxoDist">loxoDist</a></li><li><a href="global.html#manageCompetitors">manageCompetitors</a></li><li><a href="global.html#move">move</a></li><li><a href="global.html#oldshowContextMenu">oldshowContextMenu</a></li><li><a href="global.html#orthoCap">orthoCap</a></li><li><a href="global.html#orthoDist">orthoDist</a></li><li><a href="global.html#parDump">parDump</a></li><li><a href="global.html#polarInfo">polarInfo</a></li><li><a href="global.html#refreshMarker">refreshMarker</a></li><li><a href="global.html#removeCompetitor">removeCompetitor</a></li><li><a href="global.html#request">request</a></li><li><a href="global.html#resetWaypoint">resetWaypoint</a></li><li><a href="global.html#saveAppState">saveAppState</a></li><li><a href="global.html#setBoat">setBoat</a></li><li><a href="global.html#showContextMenu">showContextMenu</a></li><li><a href="global.html#showDestination">showDestination</a></li><li><a href="global.html#showInitMessage">showInitMessage</a></li><li><a href="global.html#showPOI">showPOI</a></li><li><a href="global.html#showPolarTable">showPolarTable</a></li><li><a href="global.html#showRoute">showRoute</a></li><li><a href="global.html#showRouteReport">showRouteReport</a></li><li><a href="global.html#showWayPoint">showWayPoint</a></li><li><a href="global.html#switchTab">switchTab</a></li><li><a href="global.html#symmetrizeData">symmetrizeData</a></li><li><a href="global.html#toDMSString">toDMSString</a></li><li><a href="global.html#updateAllBoats">updateAllBoats</a></li><li><a href="global.html#updateBindPopup">updateBindPopup</a></li><li><a href="global.html#updateBoatSelect">updateBoatSelect</a></li><li><a href="global.html#updateHeading">updateHeading</a></li><li><a href="global.html#updateIconStyle">updateIconStyle</a></li><li><a href="global.html#updateRouteDisplay">updateRouteDisplay</a></li><li><a href="global.html#updateStatusBar">updateStatusBar</a></li><li><a href="global.html#updateWindyMap">updateWindyMap</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sun Mar 23 2025 22:11:09 GMT+0100 (heure normale dâ€™Europe centrale)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
